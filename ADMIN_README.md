# StormHosting UA - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ, –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ö–æ—Å—Ç–∏–Ω–≥-—Å–∞–π—Ç–æ–º.

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
2. [–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫](#–ø–µ—Ä–≤—ã–π-–∑–∞–ø—É—Å–∫)
3. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏)
4. [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å WHMCS](#–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-—Å-whmcs)
5. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç—è–º–∏](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–Ω–æ–≤–æ—Å—Ç—è–º–∏)
6. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
7. [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–¥–∞

```bash
cd /path/to/your/website
git clone https://github.com/dncdante911/sthost_3.0.git
# –ò–õ–ò –æ–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
git pull origin claude/homepage-admin-panel-01JxpZdRYp1j8NrbTKBF5mxo
```

### –®–∞–≥ 2: –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:

```bash
mysql -u –í–ê–®_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ -p –í–ê–®_–ë–ê–ó–ê_–î–ê–ù–ù–´–• < table/migration_admin_users.sql
```

**–ü—Ä–∏–º–µ—Ä –¥–ª—è –≤–∞—à–µ–π –ë–î:**
```bash
mysql -u sthostdb -p sthostsitedb < table/migration_admin_users.sql
```

–≠—Ç–∞ –º–∏–≥—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞—Å—Ç:
- –¢–∞–±–ª–∏—Ü—É `admin_users` (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã —Å —Ä–æ–ª—è–º–∏)
- –¢–∞–±–ª–∏—Ü—É `admin_activity_log` (–ª–æ–≥–∏ –¥–µ–π—Å—Ç–≤–∏–π)
- –î–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–ª–æ–≥–∏–Ω: **admin**, –ø–∞—Ä–æ–ª—å: **admin123**)

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–û—Ç–∫—Ä–æ–π—Ç–µ `/includes/config.php` –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```php
// –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ë–î —Å–∞–π—Ç—É
$host = 'localhost';
$dbname_site = 'sthostsitedb';
$db_userconnect_site = 'sthostdb';
$db_passwd_site = '3344Frz@q0607Dm$157';

// –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ë–î WHMCS
$dbname_whmcs = 'whmcs_sthost';
$db_userconnect_whmcs = 'whmcs_sthost';
$db_passwd_whmcs = '3344Frz@q0607';
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ë–î —É–∫–∞–∑–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!

---

## üéØ –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞: **https://sthost.pro/admin/login.php**

### 2. –í–æ–π–¥–∏—Ç–µ —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

- **–õ–æ–≥–∏–Ω:** admin
- **–ü–∞—Ä–æ–ª—å:** admin123

### 3. –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Å–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å!

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è** ‚Üí **–ü—Ä–æ—Ñ—ñ–ª—å**
2. –°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –Ω–∞ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–π
3. –û–±–Ω–æ–≤–∏—Ç–µ email –Ω–∞ —Ä–∞–±–æ—á–∏–π

### 4. –°–æ–∑–¥–∞–π—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–û—Ç–∫—Ä–æ–π—Ç–µ: **https://sthost.pro/admin/manage-admins.php**

–í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–æ–ª—è–º–∏:
- **Admin** - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º
- **Moderator** - —Å—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞
- **Publisher** - —Ç–æ–ª—å–∫–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç—è–º–∏

**‚ö†Ô∏è –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨:** –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞ —É–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª `/admin/manage-admins.php` –∏–ª–∏ –∑–∞—â–∏—Ç–∏—Ç–µ –µ–≥–æ —á–µ—Ä–µ–∑ .htpasswd!

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

### –°—Ç—Ä–∞–Ω–∏—Ü—ã –∞–¥–º–∏–Ω–∫–∏

```
/admin/
‚îú‚îÄ‚îÄ index.php              # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–¥–º–∏–Ω–∫–∏ (—Ä–æ—É—Ç–µ—Ä)
‚îú‚îÄ‚îÄ login.php              # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ logout.php             # –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ manage-admins.php      # –£—Ç–∏–ª–∏—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∞–º–∏
‚îÇ
‚îî‚îÄ‚îÄ pages/
    ‚îú‚îÄ‚îÄ dashboard.php      # –î–∞—à–±–æ—Ä–¥ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
    ‚îú‚îÄ‚îÄ news.php           # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç—è–º–∏ (CRUD)
    ‚îú‚îÄ‚îÄ domains.php        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞–º–∏
    ‚îú‚îÄ‚îÄ hosting.php        # –¢–∞—Ä–∏—Ñ–Ω—ã–µ –ø–ª–∞–Ω—ã —Ö–æ—Å—Ç–∏–Ω–≥–∞
    ‚îú‚îÄ‚îÄ vps.php            # VPS/VDS –ø–ª–∞–Ω—ã
    ‚îú‚îÄ‚îÄ users.php          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
    ‚îî‚îÄ‚îÄ settings.php       # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞
```

### –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

| –†–æ–ª—å       | –ù–æ–≤–æ—Å—Ç–∏ | –î–æ–º–µ–Ω—ã | –•–æ—Å—Ç–∏–Ω–≥ | VPS | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ | –ê–¥–º–∏–Ω—ã |
|------------|---------|--------|---------|-----|--------------|-----------|--------|
| Admin      | ‚úÖ      | ‚úÖ     | ‚úÖ      | ‚úÖ  | ‚úÖ           | ‚úÖ        | ‚úÖ     |
| Moderator  | ‚úÖ      | ‚úÖ     | ‚úÖ      | ‚úÖ  | ‚úÖ           | ‚ùå        | ‚ùå     |
| Publisher  | ‚úÖ      | ‚ùå     | ‚ùå      | ‚ùå  | ‚ùå           | ‚ùå        | ‚ùå     |

---

## üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å WHMCS

–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∫ –¥–≤—É–º –±–∞–∑–∞–º –¥–∞–Ω–Ω—ã—Ö:
1. **sthostsitedb** - –æ—Å–Ω–æ–≤–Ω–∞—è –ë–î —Å–∞–π—Ç–∞ (–Ω–æ–≤–æ—Å—Ç–∏, –¥–æ–º–µ–Ω—ã, —Ö–æ—Å—Ç–∏–Ω–≥ –ø–ª–∞–Ω—ã)
2. **whmcs_sthost** - –ë–î WHMCS (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∑–∞–∫–∞–∑—ã, –±–∏–ª–ª–∏–Ω–≥)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ WHMCS API

–û—Ç–∫—Ä–æ–π—Ç–µ `/includes/config.php` –∏ –æ–±–Ω–æ–≤–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ WHMCS:

```php
// WHMCS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
define('WHMCS_URL', 'https://bil.sthost.pro');
define('WHMCS_API_URL', 'https://bil.sthost.pro/includes/api.php');
define('WHMCS_API_IDENTIFIER', '–í–ê–®_API_IDENTIFIER');
define('WHMCS_API_SECRET', '–í–ê–®_API_SECRET');
```

### –°–æ–∑–¥–∞–Ω–∏–µ API Credentials –≤ WHMCS

1. –ó–∞–π–¥–∏—Ç–µ –≤ **WHMCS Admin Panel**
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **Setup** ‚Üí **Staff Management** ‚Üí **Manage API Credentials**
3. –ù–∞–∂–º–∏—Ç–µ **Generate New API Credential**
4. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: **Admin** (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Identifier** –∏ **Secret**
6. –î–æ–±–∞–≤—å—Ç–µ IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –≤ **Allowed IP Addresses**
7. –í—Å—Ç–∞–≤—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ `/includes/config.php`

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ WHMCS –≤ –∞–¥–º–∏–Ω–∫–µ

–§–∞–π–ª `/includes/db_connect.php` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–ª–∞—Å—Å `DatabaseConnection` —Å –¥–≤—É–º—è –º–µ—Ç–æ–¥–∞–º–∏:

```php
// –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –æ—Å–Ω–æ–≤–Ω–æ–π –ë–î —Å–∞–π—Ç–∞
$pdo_site = DatabaseConnection::getSiteConnection();

// –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î WHMCS
$pdo_whmcs = DatabaseConnection::getWHMCSConnection();
```

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∞–¥–º–∏–Ω–∫–µ:**

```php
// –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏–∑ WHMCS
$stmt = $pdo_whmcs->query("SELECT id, firstname, lastname, email FROM tblclients ORDER BY id DESC LIMIT 10");
$clients = $stmt->fetchAll(PDO::FETCH_ASSOC);

foreach ($clients as $client) {
    echo $client['firstname'] . ' ' . $client['lastname'] . ' - ' . $client['email'];
}
```

### –ü–æ–ª–µ–∑–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã WHMCS

| –¢–∞–±–ª–∏—Ü–∞          | –û–ø–∏—Å–∞–Ω–∏–µ                    |
|------------------|-----------------------------|
| tblclients       | –ö–ª–∏–µ–Ω—Ç—ã/–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏        |
| tblorders        | –ó–∞–∫–∞–∑—ã                      |
| tblproducts      | –ü—Ä–æ–¥—É–∫—Ç—ã/–£—Å–ª—É–≥–∏             |
| tblhosting       | –ê–∫—Ç–∏–≤–Ω—ã–µ —Ö–æ—Å—Ç–∏–Ω–≥-–∞–∫–∫–∞—É–Ω—Ç—ã   |
| tblinvoices      | –°—á–µ—Ç–∞                       |
| tbldomains       | –î–æ–º–µ–Ω—ã –∫–ª–∏–µ–Ω—Ç–æ–≤             |
| tbltickets       | –¢–∏–∫–µ—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏            |

**üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è WHMCS Database Schema:**
https://developers.whmcs.com/advanced/db-schema/

---

## üì∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç—è–º–∏

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –Ω–æ–≤–æ—Å—Ç–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ **–ù–æ–≤–∏–Ω–∏** –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
2. –ù–∞–∂–º–∏—Ç–µ **–î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–Ω—É**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è:
   - **–ó–∞–≥–æ–ª–æ–≤–æ–∫ (UA)** - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏
   - **–ö–æ–Ω—Ç–µ–Ω—Ç (UA)** - —Ç–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏ (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTML)
   - **URL –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è** - —Å—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
   - **–û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏ –Ω–æ–≤–∏–Ω—É** - –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å—Ä–∞–∑—É –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ —á–µ—Ä–Ω–æ–≤–∏–∫
   - **–û—Å–æ–±–ª–∏–≤–∞ –Ω–æ–≤–∏–Ω–∞** - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–µ—Ä–≤–æ–π –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
4. –ù–∞–∂–º–∏—Ç–µ **–°—Ç–≤–æ—Ä–∏—Ç–∏**

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ **–ù–æ–≤–∏–Ω–∏**
2. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—É—é –Ω–æ–≤–æ—Å—Ç—å –≤ —Å–ø–∏—Å–∫–µ
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å** (–∏–∫–æ–Ω–∫–∞ –∫–∞—Ä–∞–Ω–¥–∞—à–∞)
4. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
5. –ù–∞–∂–º–∏—Ç–µ **–ó–±–µ—Ä–µ–≥—Ç–∏**

### –£–¥–∞–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ **–ù–æ–≤–∏–Ω–∏**
2. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—É—é –Ω–æ–≤–æ—Å—Ç—å
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **—É–¥–∞–ª–∏—Ç—å** (–∏–∫–æ–Ω–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã)
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

–ù–æ–≤–æ—Å—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ —á–µ—Ä–µ–∑ API:
- `/api/news/list.php` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π
- `/api/news/get.php?id=X` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –Ω–æ–≤–æ—Å—Ç–∏

–ù–æ–≤–æ—Å—Ç–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤ –∫—Ä–∞—Å–∏–≤—ã—Ö –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö (pop-up) –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É.

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### 1. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

‚úÖ **–°–º–µ–Ω–∏—Ç–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –ø–∞—Ä–æ–ª—å** admin/admin123 —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞!

‚úÖ **–£–¥–∞–ª–∏—Ç–µ manage-admins.php** –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞:
```bash
rm /path/to/website/admin/manage-admins.php
```

–ò–õ–ò –∑–∞—â–∏—Ç–∏—Ç–µ –µ–≥–æ —á–µ—Ä–µ–∑ .htpasswd:
```bash
# –°–æ–∑–¥–∞–π—Ç–µ .htpasswd —Ñ–∞–π–ª
htpasswd -c /path/to/.htpasswd admin_manager

# –°–æ–∑–¥–∞–π—Ç–µ .htaccess –≤ /admin/
cat > /path/to/website/admin/.htaccess << 'EOF'
<Files "manage-admins.php">
    AuthType Basic
    AuthName "Admin Manager"
    AuthUserFile /path/to/.htpasswd
    Require valid-user
</Files>
EOF
```

‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS** –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è sthost.pro)

‚úÖ **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –ø–∞—Ä–æ–ª–∏** –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

### 2. –ó–∞—â–∏—Ç–∞ –æ—Ç SQL Injection

–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∞–¥–º–∏–Ω–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç **PDO prepared statements**:
```php
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –∑–∞—â–∏—â–µ–Ω–æ –æ—Ç SQL injection
$stmt = $pdo->prepare("SELECT * FROM users WHERE id = ?");
$stmt->execute([$user_id]);

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - —É—è–∑–≤–∏–º–æ –¥–ª—è SQL injection
$result = $pdo->query("SELECT * FROM users WHERE id = $user_id");
```

### 3. –ó–∞—â–∏—Ç–∞ –æ—Ç XSS

–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `htmlspecialchars()` –ø—Ä–∏ –≤—ã–≤–æ–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö:
```php
echo '<div>' . htmlspecialchars($user_input) . '</div>';
```

### 4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π

–¢–∞–±–ª–∏—Ü–∞ `admin_activity_log` –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:
- –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫

–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ (–±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö):
```sql
SELECT * FROM admin_activity_log ORDER BY created_at DESC LIMIT 100;
```

### 5. –ó–∞—â–∏—Ç–∞ —Ñ–∞–π–ª–æ–≤ includes

–§–∞–π–ª `/includes/db_connect.php` –∑–∞—â–∏—â–µ–Ω –æ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞:
```php
if (!defined('SECURE_ACCESS')) {
    die('Direct access not permitted');
}
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–æ –≤—Å–µ—Ö —Ñ–∞–π–ª–∞—Ö –∞–¥–º–∏–Ω–∫–∏ –µ—Å—Ç—å `define('SECURE_ACCESS', true);` –ø–µ—Ä–µ–¥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º includes.

---

## üõ† –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ 500 Internal Server Error

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å mysqli/PDO –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –ë–î.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫ PHP:
   ```bash
   tail -f /var/log/apache2/error.log
   # –ò–õ–ò
   tail -f /var/log/nginx/error.log
   ```

2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —Ñ–∞–π–ª–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PDO, –∞ –Ω–µ mysqli:
   ```php
   // ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
   $pdo = DatabaseConnection::getSiteConnection();

   // ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
   $conn = new mysqli(...);
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î –≤ `/includes/config.php`

### Direct access not permitted

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ `SECURE_ACCESS`.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞:
```php
define('SECURE_ACCESS', true);
session_start();
```

### –ù–æ–≤–æ—Å—Ç–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–æ–≤–æ—Å—Ç–∏ –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å –ë–î.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–æ–≤–æ—Å—Ç–∏ –∏–º–µ—é—Ç `is_published = 1`:
   ```sql
   SELECT id, title_ua, is_published FROM news;
   UPDATE news SET is_published = 1 WHERE id = X;
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API endpoints:
   - https://sthost.pro/api/news/list.php
   - https://sthost.pro/api/news/get.php?id=1

### –î–æ–º–µ–Ω—ã/—Ö–æ—Å—Ç–∏–Ω–≥ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—É—Å—Ç—ã–µ —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:
```sql
-- –î–æ–±–∞–≤–∏—Ç—å –¥–æ–º–µ–Ω—ã
INSERT INTO domains (zone, price_registration, price_renewal, is_popular)
VALUES ('.com', 350, 400, 1);

-- –î–æ–±–∞–≤–∏—Ç—å —Ö–æ—Å—Ç–∏–Ω–≥-–ø–ª–∞–Ω
INSERT INTO hosting_plans (name, price, disk_space, bandwidth, domains, databases)
VALUES ('–°—Ç–∞—Ä—Ç', 99, '5 –ì–ë', '50 –ì–ë', 1, 3);
```

### –ù–µ –º–æ–≥—É –≤–æ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω–∫—É

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω.

**–†–µ—à–µ–Ω–∏–µ:**
1. –°–±—Ä–æ—Å—å—Ç–µ –ø–∞—Ä–æ–ª—å —á–µ—Ä–µ–∑ –ë–î:
   ```sql
   -- –ü–∞—Ä–æ–ª—å –±—É–¥–µ—Ç: newpassword123
   UPDATE admin_users
   SET password = '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi'
   WHERE username = 'admin';
   ```

2. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
   ```sql
   UPDATE admin_users SET is_active = 1 WHERE username = 'admin';
   ```

### WHMCS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ë–î –∏–ª–∏ API.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î WHMCS:
   ```bash
   mysql -u whmcs_sthost -p whmcs_sthost
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API credentials –≤ WHMCS Admin Panel

3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ IP —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ–±–∞–≤–ª–µ–Ω –≤ Allowed IP Addresses

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **WHMCS Developer Docs:** https://developers.whmcs.com/
- **PHP PDO Tutorial:** https://www.php.net/manual/en/book.pdo.php
- **Bootstrap 5 Docs:** https://getbootstrap.com/docs/5.3/

---

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫ —Å–µ—Ä–≤–µ—Ä–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —ç—Ç—É –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –≤ —Ä–∞–∑–¥–µ–ª–µ "–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ë–î –≤ `/includes/config.php`
4. –°–æ–∑–¥–∞–π—Ç–µ issue –Ω–∞ GitHub —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ (`migration_admin_users.sql`)
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î –≤ `/includes/config.php` –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- [ ] –í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω–∫—É —Ä–∞–±–æ—Ç–∞–µ—Ç (admin/admin123)
- [ ] –ü–∞—Ä–æ–ª—å –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω
- [ ] –§–∞–π–ª `manage-admins.php` —É–¥–∞–ª–µ–Ω –∏–ª–∏ –∑–∞—â–∏—â–µ–Ω
- [ ] –ù–æ–≤–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- [ ] WHMCS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] HTTPS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

---

**–í–µ—Ä—Å–∏—è:** 1.0
**–î–∞—Ç–∞:** 2025-11-17
**–ê–≤—Ç–æ—Ä:** Claude (AI Assistant)

üöÄ –£—Å–ø–µ—à–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é StormHosting UA!
